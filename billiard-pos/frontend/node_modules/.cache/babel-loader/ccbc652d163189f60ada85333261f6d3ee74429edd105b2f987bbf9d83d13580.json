{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\girishlocal\\\\Downloads\\\\Billiard-POS-System-CloudSQL\\\\bola8pos-ai\\\\billiard-pos\\\\frontend\\\\src\\\\components\\\\orders\\\\CreateOrder.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport api from '../../services/api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function CreateOrder({\n  tableId\n}) {\n  _s();\n  const [items, setItems] = useState([]);\n  const [inventory, setInventory] = useState([]);\n  const [selectedItem, setSelectedItem] = useState('');\n  const [quantity, setQuantity] = useState(1);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    const fetchInventory = async () => {\n      const {\n        data\n      } = await api.get('/inventory');\n      setInventory(data.filter(item => item.is_active));\n    };\n    fetchInventory();\n  }, []);\n  const handleAddItem = () => {\n    const item = inventory.find(i => i.id === parseInt(selectedItem));\n    if (!item) return;\n    setItems([...items, {\n      id: item.id,\n      name: item.name,\n      price: item.unit_price,\n      quantity\n    }]);\n    setQuantity(1);\n  };\n  const handleSubmit = async () => {\n    setLoading(true);\n    try {\n      await api.post('/orders', {\n        table_id: tableId,\n        items: items.map(item => ({\n          item_id: item.id,\n          quantity: item.quantity\n        }))\n      });\n      setItems([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white p-4 rounded-lg shadow\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"font-semibold mb-3\",\n      children: \"Create Order\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-2 mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"flex-1 border p-2 rounded\",\n        value: selectedItem,\n        onChange: e => setSelectedItem(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Select item\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), inventory.map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: item.id,\n          children: [item.name, \" (\\u20B1\", item.unit_price, \")\"]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        min: \"1\",\n        value: quantity,\n        onChange: e => setQuantity(parseInt(e.target.value)),\n        className: \"w-16 border p-2 rounded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleAddItem,\n        className: \"bg-green-500 text-white px-3 rounded\",\n        disabled: !selectedItem,\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), items.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border-t pt-3 mb-3\",\n        children: items.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center py-2 border-b\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-500 text-sm ml-2\",\n              children: [\"x\", item.quantity]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u20B1\", (item.price * item.quantity).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setItems(items.filter((_, i) => i !== index)),\n              className: \"ml-2 text-red-500\",\n              children: \"\\xD7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between font-bold mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Total:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"\\u20B1\", items.reduce((sum, item) => sum + item.price * item.quantity, 0).toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSubmit,\n        disabled: loading,\n        className: \"w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600\",\n        children: loading ? 'Submitting...' : 'Submit Order'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n_s(CreateOrder, \"+sCLTNzLRsDIZBe/ctQeuis90uA=\");\n_c = CreateOrder;\nvar _c;\n$RefreshReg$(_c, \"CreateOrder\");","map":{"version":3,"names":["useState","useEffect","api","jsxDEV","_jsxDEV","Fragment","_Fragment","CreateOrder","tableId","_s","items","setItems","inventory","setInventory","selectedItem","setSelectedItem","quantity","setQuantity","loading","setLoading","fetchInventory","data","get","filter","item","is_active","handleAddItem","find","i","id","parseInt","name","price","unit_price","handleSubmit","post","table_id","map","item_id","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","type","min","onClick","disabled","length","index","toFixed","_","reduce","sum","_c","$RefreshReg$"],"sources":["C:/Users/girishlocal/Downloads/Billiard-POS-System-CloudSQL/bola8pos-ai/billiard-pos/frontend/src/components/orders/CreateOrder.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport api from '../../services/api';\n\nexport default function CreateOrder({ tableId }) {\n  const [items, setItems] = useState([]);\n  const [inventory, setInventory] = useState([]);\n  const [selectedItem, setSelectedItem] = useState('');\n  const [quantity, setQuantity] = useState(1);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    const fetchInventory = async () => {\n      const { data } = await api.get('/inventory');\n      setInventory(data.filter(item => item.is_active));\n    };\n    fetchInventory();\n  }, []);\n\n  const handleAddItem = () => {\n    const item = inventory.find(i => i.id === parseInt(selectedItem));\n    if (!item) return;\n\n    setItems([...items, {\n      id: item.id,\n      name: item.name,\n      price: item.unit_price,\n      quantity\n    }]);\n    setQuantity(1);\n  };\n\n  const handleSubmit = async () => {\n    setLoading(true);\n    try {\n      await api.post('/orders', {\n        table_id: tableId,\n        items: items.map(item => ({\n          item_id: item.id,\n          quantity: item.quantity\n        }))\n      });\n      setItems([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"bg-white p-4 rounded-lg shadow\">\n      <h3 className=\"font-semibold mb-3\">Create Order</h3>\n      <div className=\"flex gap-2 mb-4\">\n        <select\n          className=\"flex-1 border p-2 rounded\"\n          value={selectedItem}\n          onChange={(e) => setSelectedItem(e.target.value)}\n        >\n          <option value=\"\">Select item</option>\n          {inventory.map(item => (\n            <option key={item.id} value={item.id}>\n              {item.name} (â‚±{item.unit_price})\n            </option>\n          ))}\n        </select>\n        <input\n          type=\"number\"\n          min=\"1\"\n          value={quantity}\n          onChange={(e) => setQuantity(parseInt(e.target.value))}\n          className=\"w-16 border p-2 rounded\"\n        />\n        <button\n          onClick={handleAddItem}\n          className=\"bg-green-500 text-white px-3 rounded\"\n          disabled={!selectedItem}\n        >\n          Add\n        </button>\n      </div>\n\n      {items.length > 0 && (\n        <>\n          <div className=\"border-t pt-3 mb-3\">\n            {items.map((item, index) => (\n              <div key={index} className=\"flex justify-between items-center py-2 border-b\">\n                <div>\n                  <span>{item.name}</span>\n                  <span className=\"text-gray-500 text-sm ml-2\">x{item.quantity}</span>\n                </div>\n                <div>\n                  <span>â‚±{(item.price * item.quantity).toFixed(2)}</span>\n                  <button \n                    onClick={() => setItems(items.filter((_, i) => i !== index))}\n                    className=\"ml-2 text-red-500\"\n                  >\n                    Ã—\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n          <div className=\"flex justify-between font-bold mb-3\">\n            <span>Total:</span>\n            <span>â‚±{items.reduce((sum, item) => sum + (item.price * item.quantity), 0).toFixed(2)}</span>\n          </div>\n          <button\n            onClick={handleSubmit}\n            disabled={loading}\n            className=\"w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600\"\n          >\n            {loading ? 'Submitting...' : 'Submit Order'}\n          </button>\n        </>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}