{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\girishlocal\\\\Downloads\\\\Billiard-POS-System-CloudSQL\\\\bola8pos-ai\\\\billiard-pos\\\\frontend\\\\src\\\\components\\\\orders\\\\CreateOrder.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport api from '../../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CreateOrder({\n  tableId\n}) {\n  _s();\n  const [menuItems, setMenuItems] = useState([]);\n  const [selectedItems, setSelectedItems] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [submitting, setSubmitting] = useState(false);\n  useEffect(() => {\n    const fetchMenu = async () => {\n      try {\n        const {\n          data\n        } = await api.get('/menu');\n        setMenuItems(data);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchMenu();\n  }, []);\n  const addItem = item => {\n    setSelectedItems([...selectedItems, {\n      ...item,\n      quantity: 1\n    }]);\n  };\n  const updateQuantity = (index, quantity) => {\n    const updated = [...selectedItems];\n    updated[index].quantity = quantity;\n    setSelectedItems(updated);\n  };\n  const removeItem = index => {\n    const updated = [...selectedItems];\n    updated.splice(index, 1);\n    setSelectedItems(updated);\n  };\n  const submitOrder = async () => {\n    setSubmitting(true);\n    try {\n      await api.post('/orders', {\n        tableId,\n        items: selectedItems.map(item => ({\n          menuItemId: item.id,\n          quantity: item.quantity\n        }))\n      });\n      setSelectedItems([]);\n      alert('Order submitted successfully!');\n    } catch (error) {\n      console.error('Error submitting order:', error);\n      alert('Failed to submit order');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading menu...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-2 gap-2\",\n      children: menuItems.map(item => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => addItem(item),\n        className: \"p-2 border rounded hover:bg-gray-50\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-medium\",\n          children: item.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-600\",\n          children: [\"\\u20B1\", item.price.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this)]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), selectedItems.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 border-t pt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-bold mb-2\",\n        children: \"Current Order\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"space-y-2\",\n        children: selectedItems.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              min: \"1\",\n              value: item.quantity,\n              onChange: e => updateQuantity(index, parseInt(e.target.value)),\n              className: \"ml-2 w-12 border rounded px-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"mr-2\",\n              children: [\"\\u20B1\", (item.price * item.quantity).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => removeItem(index),\n              className: \"text-red-500 hover:text-red-700\",\n              children: \"\\xD7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 font-bold text-right\",\n        children: [\"Total: \\u20B1\", selectedItems.reduce((sum, item) => sum + item.price * item.quantity, 0).toFixed(2)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: submitOrder,\n        disabled: submitting,\n        className: \"mt-4 w-full bg-green-500 text-white py-2 rounded hover:bg-green-600 disabled:opacity-50\",\n        children: submitting ? 'Submitting...' : 'Submit Order'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n}\n_s(CreateOrder, \"sQz8nOtsxkq7+6DZLo/rkqgH+hk=\");\n_c = CreateOrder;\nvar _c;\n$RefreshReg$(_c, \"CreateOrder\");","map":{"version":3,"names":["useState","useEffect","api","jsxDEV","_jsxDEV","CreateOrder","tableId","_s","menuItems","setMenuItems","selectedItems","setSelectedItems","loading","setLoading","submitting","setSubmitting","fetchMenu","data","get","addItem","item","quantity","updateQuantity","index","updated","removeItem","splice","submitOrder","post","items","map","menuItemId","id","alert","error","console","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","name","price","toFixed","length","type","min","value","onChange","e","parseInt","target","reduce","sum","disabled","_c","$RefreshReg$"],"sources":["C:/Users/girishlocal/Downloads/Billiard-POS-System-CloudSQL/bola8pos-ai/billiard-pos/frontend/src/components/orders/CreateOrder.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport api from '../../services/api';\n\nexport default function CreateOrder({ tableId }) {\n  const [menuItems, setMenuItems] = useState([]);\n  const [selectedItems, setSelectedItems] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [submitting, setSubmitting] = useState(false);\n\n  useEffect(() => {\n    const fetchMenu = async () => {\n      try {\n        const { data } = await api.get('/menu');\n        setMenuItems(data);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchMenu();\n  }, []);\n\n  const addItem = (item) => {\n    setSelectedItems([...selectedItems, { ...item, quantity: 1 }]);\n  };\n\n  const updateQuantity = (index, quantity) => {\n    const updated = [...selectedItems];\n    updated[index].quantity = quantity;\n    setSelectedItems(updated);\n  };\n\n  const removeItem = (index) => {\n    const updated = [...selectedItems];\n    updated.splice(index, 1);\n    setSelectedItems(updated);\n  };\n\n  const submitOrder = async () => {\n    setSubmitting(true);\n    try {\n      await api.post('/orders', {\n        tableId,\n        items: selectedItems.map(item => ({\n          menuItemId: item.id,\n          quantity: item.quantity\n        }))\n      });\n      setSelectedItems([]);\n      alert('Order submitted successfully!');\n    } catch (error) {\n      console.error('Error submitting order:', error);\n      alert('Failed to submit order');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  if (loading) return <div>Loading menu...</div>;\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"grid grid-cols-2 gap-2\">\n        {menuItems.map(item => (\n          <button\n            key={item.id}\n            onClick={() => addItem(item)}\n            className=\"p-2 border rounded hover:bg-gray-50\"\n          >\n            <div className=\"font-medium\">{item.name}</div>\n            <div className=\"text-sm text-gray-600\">â‚±{item.price.toFixed(2)}</div>\n          </button>\n        ))}\n      </div>\n\n      {selectedItems.length > 0 && (\n        <div className=\"mt-4 border-t pt-4\">\n          <h3 className=\"font-bold mb-2\">Current Order</h3>\n          <ul className=\"space-y-2\">\n            {selectedItems.map((item, index) => (\n              <li key={index} className=\"flex justify-between items-center\">\n                <div>\n                  <span className=\"font-medium\">{item.name}</span>\n                  <input\n                    type=\"number\"\n                    min=\"1\"\n                    value={item.quantity}\n                    onChange={(e) => updateQuantity(index, parseInt(e.target.value))}\n                    className=\"ml-2 w-12 border rounded px-1\"\n                  />\n                </div>\n                <div className=\"flex items-center\">\n                  <span className=\"mr-2\">â‚±{(item.price * item.quantity).toFixed(2)}</span>\n                  <button\n                    onClick={() => removeItem(index)}\n                    className=\"text-red-500 hover:text-red-700\"\n                  >\n                    Ã—\n                  </button>\n                </div>\n              </li>\n            ))}\n          </ul>\n          <div className=\"mt-4 font-bold text-right\">\n            Total: â‚±{selectedItems.reduce((sum, item) => sum + (item.price * item.quantity), 0).toFixed(2)}\n          </div>\n          <button\n            onClick={submitOrder}\n            disabled={submitting}\n            className=\"mt-4 w-full bg-green-500 text-white py-2 rounded hover:bg-green-600 disabled:opacity-50\"\n          >\n            {submitting ? 'Submitting...' : 'Submit Order'}\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}